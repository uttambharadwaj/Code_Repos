<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>QA_Approval_Before_Go_Live</fullName>
    <active>true</active>
    <errorConditionFormula>AND(
  RecordType.DeveloperName = &apos;Implementation&apos;,
  ISBLANK(QA_Complete__c),
  ISCHANGED(Stage__c),
  CASE(
    TEXT(Stage__c),
    /* Stage API names not labels */
    &apos;Stage 4 – Go-live&apos;, 1,
    &apos;Stage 5 – Handover&apos;, 1,
    0
  ) = 1
)</errorConditionFormula>
    <errorDisplayField>QA_Complete__c</errorDisplayField>
    <errorMessage>The Project&apos;s stage cannot be moved beyond &apos;Stage 4 - Testing&apos; until QA Complete has been confirmed.</errorMessage>
</ValidationRule>
