@isTest
public class WESAppReq_MockHttpResponseGenerator implements HttpCalloutMock {
    String companiesHouseResponse = ' {"registered_office_address": {"address_line_2": "61a Walton Street", "postal_code": "KT20 7RZ", "region": "Surrey", "locality": "Walton On The Hill", "address_line_1": "Regency House"}, "company_name": "GREENFIELD PLANT LIMITED"}';
    String dnbAuthResponse = '{"AuthenticationDetail": {"Token": "056hrAOy50f0EEeOxpJxXqbKbWZOzKLYFiAigm8162xFXs7fk0r3whkCToWl88Gz0o6hnCZ5L2H"} }';
    String dnbDUNSResponse = '{"MatchResponse": {"MatchResponseDetail": {"MatchCandidate": [{"DUNSNumber": "1234567890"} ] } } }';
    String dnbFailureRiskResponse = '{"OrderProductResponse": {"@ServiceVersionNumber": "5.0", "TransactionDetail": {"ServiceTransactionID": "Id-8dfd4058c2ab0100e0a204006128e497-2", "TransactionTimestamp": "2016-12-01T23:50:24.217-05:00"}, "TransactionResult": {"SeverityText": "Information", "ResultID": "CM000", "ResultText": "Success"}, "OrderProductResponseDetail": {"InquiryDetail": {"DUNSNumber": "804735132", "CountryISOAlpha2Code": "US"}, "Product": {"DNBProductID": "PBPR_STD", "Organization": {"SubjectHeader": {"DUNSNumber": "804735132"}, "Telecommunication": {"TelephoneNumber": [{"TelecommunicationNumber": "(650) 555-0000", "InternationalDialingCode": "1"} ] }, "Location": {"PrimaryAddress": [{"StreetAddressLine": [{"LineText": "492 Koller St"} ], "PrimaryTownName": "San Francisco", "CountryISOAlpha2Code": "US", "TerritoryAbbreviatedName": "CA", "PostalCode": "94110", "TerritoryOfficialName": "California"} ] }, "OrganizationName": {"OrganizationPrimaryName": [{"OrganizationName": {"$": "Gorman Manufacturing Company, Inc."} } ] }, "OrganizationDetail": {"FamilyTreeMemberRole": [{"FamilyTreeMemberRoleText": {"@DNBCodeValue": 12775, "$": "Global Ultimate"} }, {"FamilyTreeMemberRoleText": {"@DNBCodeValue": 12774, "$": "Domestic Ultimate"} }, {"FamilyTreeMemberRoleText": {"@DNBCodeValue": 12773, "$": "Parent"} }, {"FamilyTreeMemberRoleText": {"@DNBCodeValue": 12771, "$": "Headquarters"} } ] }, "Assessment": {"CommercialCreditScore": [{"RawScore": 302, "ClassScore": "5", "NationalPercentile": 5, "RiskIncidencePercentage": 0.678, "ScoreCommentary": [{"CommentaryText": {"@DNBCodeValue": 26092, "$": "Evidence of negative trade"} }, {"CommentaryText": {"@DNBCodeValue": 26166, "$": "Recent amount past due"} }, {"CommentaryText": {"@DNBCodeValue": 26172, "$": "Proportion of slow payment experiences to total number of payment experiences reported"} }, {"CommentaryText": {"@DNBCodeValue": 26177, "$": "Vendor payment commentary"} }, {"CommentaryText": {"@DNBCodeValue": 7405, "$": "Worsening payments last 6 months"} } ], "ScoreDate": {"$": "2013-08-24"}, "RiskIncidenceMinimumRangeRawScore": "281", "RiskIncidenceMaximumRangeRawScore": "320"} ], "CommercialCreditScoreNorms": [{"RiskIncidencePercentageIndustryNorm": [{"MedianValue": 201 } ] } ], "FinancialStressScore": [{"RawScore": 1397, "ClassScore": "4", "NationalPercentile": 9, "RiskIncidencePercentage": 0.0084, "ScoreCommentary": [{"CommentaryText": {"@DNBCodeValue": 19823, "$": "Composite credit appraisal is rated limited"} }, {"CommentaryText": {"@DNBCodeValue": 19824, "$": "Financial ratios indicate higher risk"} }, {"CommentaryText": {"@DNBCodeValue": 19809, "$": "High proportion of slow payment experiences to total number of payment experiences"} }, {"CommentaryText": {"@DNBCodeValue": 19815, "$": "Low proportion of satisfactory payment experiences to total payment experiences"} }, {"CommentaryText": {"@DNBCodeValue": 19817, "$": "UCC Filings reported"} }, {"CommentaryText": {"@DNBCodeValue": 19822, "$": "Unstable Paydex over last 12 months"} } ], "ScoreDate": {"$": "2009-07-27"} } ], "DNBCreditLimitRecommendation": {"MaximumRecommendedLimitAmount": {"@CurrencyISOAlpha3Code": "USD", "@UnitOfSize": "SingleUnits", "$": 25000 } }, "SupplierEvaluationRiskScore": [{"RiskScore": "6", "ScoreCommentary": [{"CommentaryText": {"@DNBCodeValue": 26173, "$": "Proportion of past due balances to total amount owing"} }, {"CommentaryText": {"@DNBCodeValue": 26148, "$": "Financial ratios"} }, {"CommentaryText": {"@DNBCodeValue": 26158, "$": "Higher risk industry based on inactive rate for this industry"} }, {"CommentaryText": {"@DNBCodeValue": 26172, "$": "Proportion of slow payment experiences to total number of payment experiences reported"} } ] } ], "AssessmentSummaryText": ["Evidence of negative trade", "Recent amount past due", "Proportion of slow payment experiences to total number of payment experiences reported", "Vendor payment commentary", "Payment information indicates negative payment comments"] } } } } } }';
    String dnbBusinessReportResponse = '{"OrderCompanyReportResponse": {"@ServiceVersionNumber": "3.2", "TransactionDetail": {"ApplicationTransactionID": "ServiceGovernance-ReportProductV3.2Samples", "ServiceTransactionID": "Id-9912e0569c6d03004625080011e34b47-2", "TransactionTimestamp": "2011-06-17T07:32:12.111+05:30"}, "TransactionResult": {"SeverityText": "Information", "ResultID": "CM000", "ResultText": "Success"}, "OrderCompanyReportResponseDetail": {"InquiryDetail": {"DUNSNumber": "804735132", "CountryISOAlpha2Code": "US"}, "Product": {"DNBProductID": "BIR", "LanguageCode": 39, "Organization": {"SubjectHeader": {"DUNSNumber": "804735132", "CountryISOAlpha2Code": "US"}, "OrganizationName": {"OrganizationPrimaryName": {"OrganizationName": {"$": "GORMAN MANUFACTURING COMPANY, INC."} } } }, "ObjectAttachment": [{"ContentObject": "dGVzdA==", "ObjectFormatTypeText": {"$": "PDF"}, "DNBProductModuleID": [null ] } ], "ArchiveDetail": {"PortfolioAssetID": 70545574, "PortfolioAssetContainerID": 1 } }, "InquiryReferenceDetail": {"CustomerReferenceText": ["ServiceGovernanceSamples"] } } } }';

    public HTTPResponse respond(HTTPRequest req) {
        HttpResponse res = new HttpResponse();
        res.setHeader('Content-Type', 'application/json');
        if (req.getEndpoint().containsIgnoreCase('companieshouse')) {
            res.setBody(companiesHouseResponse);
        } else if (req.getEndpoint().containsIgnoreCase('Authentication')) {
            res.setBody(dnbAuthResponse);
        } else if (req.getEndpoint().containsIgnoreCase('OrganizationIdentificationNumber')) {
            res.setBody(dnbDUNSResponse);
        } else if (req.getEndpoint().containsIgnoreCase('products/PBPR_STD')) {
            res.setBody(dnbFailureRiskResponse);
        } else if (req.getEndpoint().containsIgnoreCase('products/BIR')) {
            res.setBody(dnbBusinessReportResponse);
        }
        res.setStatusCode(200);
        return res;
    }
}