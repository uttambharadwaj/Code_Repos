<apex:page showHeader="false" sidebar="false" standardStylesheets="false" docType="html-5.0"
           controller="CustomerConversionController" action="{!init}" language="{!languageCode}">
    <html lang="{!languageCode}">
    <head>

        <!-- Title -->
        <title>{!IF(brandingUtility.Conversion_Form_Display_Name__c != null, brandingUtility.Conversion_Form_Display_Name__c, program.Brand_Long_Name__c)}</title>

        <!-- Meta -->
        <meta charset="utf-8"/>
        <meta content="width=device-width, user-scalable=no" name="viewport"/>

        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <!-- Imported Styles -->
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css"/>
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css"/>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"/>
        <link rel="stylesheet" href="{!URLFOR($Resource.CustomerConversionCSS)}"/>
        <link rel="stylesheet" href="{!URLFOR($Resource.CSSProgressWizard, 'css-progress-wizard-master/css/progress-wizard.min.css')}"/>
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pretty-checkbox/2.2.1/pretty.min.css"/>

        <!-- Fonts -->
        <link href="//fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet"/>
        <link href="https://fonts.googleapis.com/css?family=Montserrat:400,600" rel="stylesheet"/>

        <!-- Imported Scripts -->
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"/>
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"/>
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.8/jquery.mask.min.js"/>
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/popper.js/1.13.0/umd/popper.js"/>
        <script type="text/javascript" src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js"/>
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/parsley.js/2.8.1/parsley.min.js"/>
        <script type="text/javascript" src="{!URLFOR($Resource.CustomerConversionJS)}"/>

        <script>
            window.addEventListener( "pageshow", function ( event ) {
                var detectedBackButton = event.persisted || ( typeof window.performance != "undefined" && window.performance.navigation.type === 2 );
                if ( detectedBackButton ) {
                    window.location.reload();
                }
            });

            $j = jQuery.noConflict();

            // Any labels need to be defined in this bridge in order
            // for the JS to pick them up
            window.$Label = window.$Label || {};
            $Label.Conversion_Key = '{!program.Conversion_Key__c}';
            $Label.Language_Code = '{!languageCode}';
        </script>

        <style>
            .header { {!program.Brand_Color_1__c} }

            .header { {!program.BPAV_Form_Header_Color__c} }

            {!overrideCSS}
        </style>


    </head>
    <body>
    <div id="header" class="header">
        <div class="container">
            <div class="row">
                <div class="col-md-8">
                    <div id="branding">
                        <img class="logo" src="{!URLFOR($Action.Attachment.Download, brandingLogo)}"/>
                        <h1 class="brand-name">
                            <apex:outputText escape="false" value="{!program.Brand_Long_Name__c}" rendered="{!brandingUtility.Conversion_Form_Display_Name__c == null}" />
                            <apex:outputText escape="false" value="{!brandingUtility.Conversion_Form_Display_Name__c}" rendered="{!brandingUtility.Conversion_Form_Display_Name__c != null}" />
                        </h1>
                    </div>
                </div>
                <div class="col-md-4 call">
                    <apex:outputText escape="false" value="{!$Label.BPAV_For_Questions_Call}" /> <b>{!program.Conversion_Phone_Number__c}</b>
                </div>
            </div>
        </div>
    </div>
    <div class="container height-full">
        <apex:outputPanel id="languageSelector">
            <apex:outputPanel rendered="{!currentStep == 1}">
                <div class="row">
                    <div class="col-lg-12">
                        &nbsp;
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12" style="text-align: right;">
                        <apex:outputPanel rendered="{!IF(AND(languageCode == 'fr_ca', CONTAINS(availableLanguages, 'en_ca')), true, false)}">
                            <a href="?lang=en_ca&cacheControl={!cacheControl}&pgm={!program.Brand_Short_Name__c}"><button class="language-button">English?</button></a>
                        </apex:outputPanel>
                        <apex:outputPanel rendered="{!IF(AND(languageCode == 'en_ca', CONTAINS(availableLanguages, 'fr_ca')), true, false)}">
                            <a href="?lang=fr_ca&cacheControl={!cacheControl}&pgm={!program.Brand_Short_Name__c}"><button class="language-button">Fran√ßais?</button></a>
                        </apex:outputPanel>
                    </div>
                </div>
            </apex:outputPanel>
        </apex:outputPanel>
        <div class="row">
            <div class="col-lg-12">
                <br/><br/>
            </div>
        </div>
        <div class="row main">
            <main class="col-sm-12 col-md-12 form" role="main">
                <apex:form id="conversionForm" enctype="multipart/form-data">
                    <apex:actionFunction oncomplete="pageLoadFunctions()" name="nextStep" action="{!nextStep}"
                                         rerender="mainPanel,languageSelector"/>
                    <apex:actionFunction name="submitConversionForm" action="{!submitConversionForm}"/>
                    <apex:outputPanel id="mainPanel">
                        <apex:outputPanel rendered="{!currentStep == 1}">
                            <div class="row">
                                <div class="col-md-12">
                                    <ul class="progressbar">
                                        <li class="active">{!$Label.BPAV_Step} 1<br/>{!$Label.BPAV_Account_Number}</li>
                                        <li>{!$Label.BPAV_Step} 2<br/>{!$Label.BPAV_Account_Information}</li>
                                        <li>{!$Label.BPAV_Step} 3<br/>{!$Label.BPAV_Business_Information}</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-8">
                                    <br/><br/>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-7">
                                    <apex:outputText escape="false" style="margin-bottom: 20px !important;" value="{!brandingUtility.Conversion_Form_Heading__c}" />
                                    <apex:outputText escape="false" value="{!brandingUtility.Previous_Account_Number_Help_Text__c}" />
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <apex:inputText id="previousAccountNumber" html-placeholder="{!brandingUtility.Previous_Account_Number_Placeholder__c}"
                                                        styleClass="styled-input form-control"
                                                        html-data-parsley-required="true"
                                                        html-data-parsley-length="[{!program.Previous_Account_Number_Min_Length__c}, {!program.Previous_Account_Number_Max_Length__c}]"
                                                        html-data-parsley-error-message="{!IF(brandingUtility.Conversion_Form_Account_Error_Test__c != null, brandingUtility.Conversion_Form_Account_Error_Test__c, 'Please enter a valid account number (' + previousAccountNumberLength + ' digits).')}"
                                                        tabindex="1" value="{!previousAccountNumber}" maxlength="{!program.Previous_Account_Number_Max_Length__c}" />
                                    </div>
                                </div>
                                <div class="col-md-1">
                                    <i class="fa fa-question-circle helpIcon" aria-hidden="true"
                                       style="color: rgba(18,100,170,.9); font-size: 16px; margin-top: 15px; margin-left: -10px; display: {!IF(brandingUtility.Conversion_Form_Previous_Account_Help__c != null, 'in-line', 'none')};"
                                       title="{!brandingUtility.Conversion_Form_Previous_Account_Help__c}"></i>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    <input type="button" class="styled-button" onclick="validatePreviousAccountNumber()"
                                           value="{!$Label.BPAV_Next}"/>
                                </div>
                            </div>
                        </apex:outputPanel>
                        <apex:outputPanel rendered="{!currentStep == 2}">
                            <div class="row">
                                <div class="col-md-12">
                                    <ul class="progressbar">
                                        <li class="completed">{!$Label.BPAV_Step} 1<br/>{!$Label.BPAV_Account_Number}</li>
                                        <li class="active">{!$Label.BPAV_Step} 2<br/>{!$Label.BPAV_Account_Information}</li>
                                        <li>{!$Label.BPAV_Step} 3<br/>{!$Label.BPAV_Business_Information}</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-8">
                                    <br/><br/>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-8">
                                    <apex:outputText escape="false" value="{!brandingUtility.Conversion_Form_Heading__c}" />
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-10">
                                    &nbsp;
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <h4>{!$Label.BPAV_Account_Information}</h4><br/>
                                    <div class="form-group">
                                        <label><b>{!$Label.BPAV_Account_Name}</b></label><br/>
                                        <apex:InputField id="companyName" styleClass="styled-input form-control"
                                                         html-data-parsley-required="true" html-tabindex="2"
                                                         html-data-parsley-error-message="{!$Label.BOCA_Required}"
                                                         value="{!conversionData.Company_Name__c}"/>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6" style="margin-top: 16px; padding-top: 16px;">
                                    <h4>{!$Label.BPAV_Contact_Information}</h4><br/>
                                    <div class="form-group">
                                        <label><b>{!$Label.BPAV_First_Name}</b></label><br/>
                                        <apex:InputField id="firstName" styleClass="styled-input form-control"
                                                         html-data-parsley-required="true" html-tabindex="4"
                                                         html-data-parsley-error-message="{!$Label.BOCA_Required}"
                                                         value="{!conversionData.First_Name__c}"/>
                                    </div>
                                    <div class="form-group">
                                        <label><b>{!$Label.BPAV_Last_Name}</b></label><br/>
                                        <apex:InputField id="lastName" styleClass="styled-input form-control"
                                                         html-data-parsley-required="true" html-tabindex="5"
                                                         html-data-parsley-error-message="{!$Label.BOCA_Required}"
                                                         value="{!conversionData.Last_Name__c}"/>
                                    </div>
                                    <div class="form-group">
                                        <label><b>{!$Label.BPAV_Phone_Number}</b></label><br/>
                                        <apex:InputField id="phoneNumber" styleClass="styled-input form-control phone"
                                                         html-data-parsley-required="true" html-tabindex="6" html-data-parsley-pattern="^[0-9]{3}-[0-9]{3}-[0-9]{4}$"
                                                         html-data-parsley-error-message="{!$Label.BOCA_Invalid_Phone}"
                                                         value="{!conversionData.Phone__c}"/>
                                    </div>
                                    <div class="form-group">
                                        <label><b>{!$Label.BPAV_Email_Address}</b></label><br/>
                                        <apex:InputField id="emailAddress" styleClass="styled-input form-control"
                                                         html-data-parsley-required="true"
                                                         html-data-parsley-type="email" html-tabindex="7"
                                                         html-data-parsley-error-message="{!$Label.BOCA_Invalid_Email}"
                                                         value="{!conversionData.Email_Address__c}"/>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12" style="margin-top: 16px; padding-top: 16px;">
                                    <input type="button" class="styled-button" onclick="validate()" value="{!$Label.BPAV_Next}"/>
                                </div>
                            </div>
                        </apex:outputPanel>
                        <apex:outputPanel rendered="{!currentStep == 3}">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="col-md-12">
                                        <ul class="progressbar">
                                            <li class="completed">{!$Label.BPAV_Step} 1<br/>{!$Label.BPAV_Account_Number}</li>
                                            <li class="completed">{!$Label.BPAV_Step} 2<br/>{!$Label.BPAV_Account_Information}</li>
                                            <li class="active">{!$Label.BPAV_Step} 3<br/>{!$Label.BPAV_Business_Information}</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-8">
                                    <br/><br/>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-7">
                                    <apex:outputText escape="false" value="{!brandingUtility.Conversion_Form_Heading__c}" />
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-8">
                                    &nbsp;
                                </div>
                            </div>
                            <apex:outputPanel >
                                <apex:outputPanel rendered="{!conversionData.TIN_Needed__c == true}">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label><b>{!$Label.BPAV_Business_Number} {!$Label.BPAV_TIN}</b>&nbsp;&nbsp;<i
                                                            class="fa fa-question-circle helpIcon" aria-hidden="true"
                                                            style="color: rgba(18,100,170,.9);"
                                                            title="{!$Label.BPAV_TIN_Help}"></i></label><br/>
                                                <apex:InputField id="taxpayerId"
                                                                 styleClass="styled-input form-control tin"
                                                                 html-data-parsley-required="true"
                                                                 html-data-parsley-type="digits"
                                                                 html-data-parsley-minlength="9" html-max-length="9"
                                                                 html-tabindex="8"
                                                                 html-data-parsley-error-message="{!$Label.BOCA_Invalid_Tax_ID}"
                                                                 value="{!conversionData.Taxpayer_ID_EIN__c}"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-8">
                                            &nbsp;
                                        </div>
                                    </div>
                                </apex:outputPanel>
                            </apex:outputPanel>
                            <apex:outputPanel >
                                <apex:outputPanel rendered="{!conversionData.BPAV_Needed__c == true}">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <h4>{!$Label.BPAV_Business_Physical_Address}</h4><br/>
                                            <div class="form-group">
                                                <label><b>{!$Label.BPAV_Address_Line_1}</b>&nbsp;&nbsp;<i
                                                            class="fa fa-question-circle helpIcon" aria-hidden="true"
                                                            style="color: rgba(18,100,170,.9);"
                                                            title="{!$Label.BPAV_Business_Physical_Address_Help}"></i></label><br/>
                                                <apex:InputField id="physicalAddressLine1"
                                                                 styleClass="styled-input form-control"
                                                                 html-data-parsley-required="true" html-tabindex="9"
                                                                 html-data-parsley-error-message="{!$Label.BOCA_Required}"
                                                                 value="{!conversionData.Physical_Address_Line_1__c}"/>
                                            </div>
                                            <div class="form-group">
                                                <label><b>{!$Label.BPAV_Address_Line_2}</b> ({!$Label.BPAV_Optional}</label><br/>
                                                <apex:InputField id="physicalAddressLine2"
                                                                 styleClass="styled-input form-control"
                                                                 html-tabindex="10"
                                                                 value="{!conversionData.Physical_Address_Line_2__c}"/>
                                            </div>
                                            <div class="form-group">
                                                <label><b>{!$Label.BPAV_City}</b></label><br/>
                                                <apex:InputField id="physicalCity"
                                                                 styleClass="styled-input form-control"
                                                                 html-data-parsley-required="true" html-tabindex="11"
                                                                 html-data-parsley-error-message="{!$Label.BOCA_Required}"
                                                                 value="{!conversionData.Physical_City__c}"/>
                                            </div>
                                            <div class="form-group">
                                                <label><b>{!$Label.BPAV_State_Province}</b></label><br/>
                                                <apex:InputField id="physicalState"
                                                                 styleClass="styled-input form-control"
                                                                 html-data-parsley-required="true" html-tabindex="12"
                                                                 html-data-parsley-error-message="{!$Label.BOCA_Required}"
                                                                 value="{!conversionData.Physical_State__c}"/>
                                            </div>
                                            <div class="form-group">
                                                <label><b>{!$Label.BPAV_Postal_Code}</b></label><br/>
                                                <apex:InputField id="physicalPostalCode"
                                                                 styleClass="styled-input form-control {!IF(OR(languageCode == 'fr_ca', languageCode == 'en_ca'), 'postalCanada', 'postal')}"
                                                                 html-data-parsley-required="true" html-tabindex="13" html-data-parsley-validate-zipcode=""
                                                                 html-data-parsley-error-message="{!$Label.BOCA_Invalid_Postal_Code}"
                                                                 value="{!conversionData.Physical_Postal_Code__c}" style="text-transform: uppercase;" />
                                            </div>
                                            <script>
                                                var language = "{!languageCode}";
                                                window.Parsley.addValidator('validateZipcode', {
                                                    validateString: function(value) {
                                                        if (language.includes('_ca') && /^[A-Za-z]\d[A-Za-z][ -]?\d[A-Za-z]\d$/i.test(value)) { // Canada Postal Code Format
                                                            return true;
                                                        } else if (/^(\d{5}([\-]\d{4})?)$/.test(value)) { // United States Zip Code Format
                                                            return true;
                                                        } else {
                                                            return false;
                                                        }
                                                    }});
                                            </script>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-8" style="margin-top: 16px; padding-top: 16px;">
                                            <apex:inputHidden value="{!mailingAddressSame}" id="mailingAddressSame">
                                                <apex:actionSupport event="onchange" action="{!mailingAddressSameToggle}" />
                                            </apex:inputHidden>
                                            <h4>{!$Label.BPAV_Company_Mailing_Address}</h4><br/>
                                            <div class="form-group">
                                                <div class="checkbox">
                                                    <input type="checkbox" id="mailingAddressSameCheckbox" name="mailingAddressSameCheckbox"
                                                           tabindex="14" checked="checked" />
                                                    <label for="mailingAddressSameCheckbox">
                                                        {!$Label.BPAV_Address_Same}</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <apex:outputPanel id="mailingAddress" style="display: none;">
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label><b>{!$Label.BPAV_Address_Line_1}</b></label><br/>
                                                    <apex:InputField id="mailingAddressLine1"
                                                                     styleClass="styled-input form-control"
                                                                     html-data-parsley-required="true" html-tabindex="15"
                                                                     html-data-parsley-error-message="{!$Label.BOCA_Required}"
                                                                     value="{!conversionData.Mailing_Address_Line_1__c}"/>
                                                </div>
                                                <div class="form-group">
                                                    <label><b>{!$Label.BPAV_Address_Line_2}</b> ({!$Label.BPAV_Optional}</label><br/>
                                                    <apex:InputField id="mailingAddressLine2"
                                                                     styleClass="styled-input form-control"
                                                                     html-tabindex="16"
                                                                     value="{!conversionData.Mailing_Address_Line_2__c}"/>
                                                </div>
                                                <div class="form-group">
                                                    <label><b>{!$Label.BPAV_City}</b></label><br/>
                                                    <apex:InputField id="mailingCity" styleClass="styled-input form-control"
                                                                     html-data-parsley-required="true" html-tabindex="17"
                                                                     html-data-parsley-error-message="{!$Label.BOCA_Required}"
                                                                     value="{!conversionData.Mailing_City__c}"/>
                                                </div>
                                                <div class="form-group">
                                                    <label><b>{!$Label.BPAV_State_Province}</b></label><br/>
                                                    <apex:InputField id="mailingState"
                                                                     styleClass="styled-input form-control"
                                                                     html-data-parsley-required="true" html-tabindex="18"
                                                                     html-data-parsley-error-message="{!$Label.BOCA_Required}"
                                                                     value="{!conversionData.Mailing_State__c}"/>
                                                </div>
                                                <div class="form-group">
                                                    <label><b>{!$Label.BPAV_Postal_Code}</b></label><br/>
                                                    <apex:InputField id="mailingPostalCode"
                                                                     styleClass="styled-input form-control {!IF(OR(languageCode == 'fr_ca', languageCode == 'en_ca'), 'postalCanada', 'postal')}"
                                                                     html-data-parsley-required="true" html-tabindex="19" html-data-parsley-validate-zipcode=""
                                                                     html-data-parsley-error-message="{!$Label.BOCA_Invalid_Postal_Code}"
                                                                     value="{!conversionData.Mailing_Postal_Code__c}" style="text-transform: uppercase;" />
                                                </div>
                                            </div>
                                        </div>
                                    </apex:outputPanel>
                                    <div class="row">
                                        <div class="col-md-8" style="margin-top: 16px; padding-top: 16px;">
                                            <apex:outputText escape="false" value="{!$Label.BPAV_Documentation_Help}" />
                                            <apex:inputHidden id="bpavMethod" value="{!bpavMethod}" />
                                            <div class="form-group">
                                                <div class="radio-container">
                                                    <input class="custom-radio" type="radio" value="Upload"
                                                           id="uploadVerification" name="verification"
                                                           data-parsley-errors-container="#business-type-group"
                                                           checked="checked"/>
                                                    <label class="custom-radio-label circle" for="uploadVerification">
												<span class="big">
													<span class="small"></span>
												</span>{!$Label.BPAV_Upload_Address_Verification}
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="input-group" id="uploadFileGroup">
                                                    <input type="text" class="form-control styled-input"
                                                           id="visibleFileName" style="pointer-events: none;" />
                                                    <span class="input-group-btn">
        										<button id="uploadFileButton" class="btn styled-input-button" type="button"
                                                        onclick="javascript:triggerFileBrowse();">{!$Label.BPAV_Choose_File}</button>
      										</span>
                                                </div>
                                                <apex:inputText value="{!bpavEvidenceName}" style="visibility: hidden;"
                                                                id="bpavEvidenceFilename"/>
                                                <apex:inputFile value="{!bpavEvidenceBody}"
                                                                filename="{!bpavEvidenceName}" id="bpavEvidence"
                                                                style="visibility: hidden;"/>
                                            </div>
                                            <div class="form-group">
                                                <div class="radio-container">
                                                    <input class="custom-radio" type="radio" value="Fax"
                                                           id="faxVerification" name="verification"
                                                           data-parsley-errors-container="#business-type-group"/>
                                                    <label class="custom-radio-label circle" for="faxVerification">
												<span class="big">
													<span class="small"></span>
                                                </span>{!$Label.BPAV_Fax_Address_Verification}
                                                        <br/>
                                                    </label>
                                                </div>
                                                <p style="padding-left: 60px;">{!$Label.BPAV_Fax_To} {!program.Conversion_Fax_Number__c}. {!$Label.BPAV_Evidence_Reference}
                                                </p>
                                            </div>
                                            <div class="form-group">
                                                <div class="radio-container">
                                                    <input class="custom-radio" type="radio" value="Email"
                                                           id="emailVerification" name="verification"
                                                           data-parsley-errors-container="#business-type-group"/>
                                                    <label class="custom-radio-label circle" for="emailVerification">
												<span class="big">
													<span class="small"></span>
												</span>{!$Label.BPAV_Email_Address_Verification}
                                                    </label>
                                                </div>
                                                <p style="padding-left: 60px;">{!$Label.BPAV_Email_Documents_To} <a
                                                            href="mailto:{!program.Conversion_Email_Address__c}">{!program.Conversion_Email_Address__c}</a>. {!$Label.BPAV_Evidence_Reference}
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </apex:outputPanel>
                            </apex:outputPanel>
                            <div class="row">
                                <div class="col-md-8" style="margin-top: 16px; padding-top: 16px;">
                                    <p>{!$Label.BPAV_Acknowledgement}</p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label><b>{!$Label.BPAV_Name}</b></label><br/>
                                        <apex:inputText styleClass="styled-input form-control" value="{!conversionData.Certified_By__c}"
                                                        html-data-parsley-error-message="{!$Label.BOCA_Required}"
                                                        html-data-parsley-required="true" disabled="disabled"/>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label><b>Date</b></label><br/>
                                        <input type="text" value="{!todaysDate}"
                                               class="styled-input form-control"
                                               disabled="disabled"/>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6" style="margin-top: 16px; padding-top: 16px;">
                                    <input type="button" class="styled-button" onclick="submitForm()" value="{!$Label.BPAV_Submit}"/>
                                </div>
                            </div>
                        </apex:outputPanel>
                        <apex:outputPanel rendered="{!currentStep == 4}">
                            <div class="row">
                                <div class="col-md-8">
                                    <h3>{!$Label.BPAV_Thank_You}</h3><br/>
                                    <p>{!$Label.BPAV_Confirmation_Number} {!confirmationNumber}.</p>
                                    <apex:outputText escape="false" value="{!brandingUtility.Conversion_Form_Thank_You__c}" />
                                </div>
                            </div>
                        </apex:outputPanel>
                    </apex:outputPanel>
                </apex:form>
            </main>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <br/><br/><br/><br/>
            </div>
        </div>
    </div>
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-3">
                    <div class="container d-flex h-100">
                        <div class="row justify-content-center align-self-center align-items-center">
                            {!$Label.BPAV_Powered_By}
                            <img style="max-height: 30px; margin-left: 10px; margin-top: -6px;" src="{!URLFOR($Resource.ESSOConversionAssets, 'ESSOConversionAssets/WEXLogo.png')}" />
                        </div>
                    </div>
                </div>
                <div class="col-md-9" style='border-left: 1px solid #555; padding-left: 100px;'>
                    <div class="row vertical-align">
                        <apex:outputText escape="false" value="{!brandingUtility.Conversion_Form_Disclaimer__c}" />
                    </div>
                </div>
            </div>
        </div>
    </div>
    </body>
    </html>
</apex:page>