<!--
Revision History:   4/26/2019 IADJUDICAT-1164 added comments around credit decision blocks
                    5/14/2019 PSOBACKLOG-76 ADA Compliance-Images
-->
<apex:page showHeader="false" sidebar="false" standardStylesheets="false" docType="html-5.0" controller="WexBOCAConfirmationController" action="{!init}" language="{!languageCode}">
    <html lang="{!languageCode}">
    <head>
        <!-- Title -->
        <title>{!program.Brand_Long_Name__c} {!$Label.BOCA_Credit_Application}</title>

        <!-- Meta -->
        <meta name="viewport" content="width=device-width" />

        <!-- Imported Styles -->
        <link rel="stylesheet" href="{!URLFOR($Resource.Skeleton, 'css/normalize.css')}" />
        <link rel="stylesheet" href="{!URLFOR($Resource.Skeleton, 'css/skeleton.css')}" />
        <link rel="stylesheet" href="//code.jquery.com/ui/1.12.0/themes/smoothness/jquery-ui.css" />
        <link rel="stylesheet" href="{!URLFOR($Resource.LoadingModal, '/jquery-loadingModal-master/css/jquery.loadingModal.css')}" />

        <!-- Fonts -->
        <link href="//fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" />

        <!-- Imported Scripts -->
        <script type="text/javascript" src="//code.jquery.com/jquery-1.10.0.min.js" />
        <script src="//code.jquery.com/ui/1.12.1/jquery-ui.js" integrity="sha256-T0Vest3yCU7pafRw9r+settMBX6JkKN06dqBnpQ8d30=" crossorigin="anonymous" />
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.8/jquery.mask.js" />
        <script type="text/javascript" src="{!URLFOR($Resource.LoadingModal, '/jquery-loadingModal-master/js/jquery.loadingModal.min.js')}" />

        <script>
            $j = jQuery.noConflict();

            var card_program = "{!programParameter}";

            var page_name = "App-Completed";

            var opportunity_number = "{!applicationOpportunity}";

            var coupon_code = "{!applicationCouponCode}";

            var group_code = "{!applicationGroupCode}";

            var location_code = "{!applicationLocationCode}";
        </script>

        <!-- This will move to be the base BOCA CSS -->
        <style>
            /* Mobile First! */

            /* Site-wide Styles - START */
            * {
                font-family: 'Open Sans', serif;
            }
            html, body {
                height: 100%;
                margin: 0;
                margin: 0;
                padding: 0;
                font-family: 'Open Sans', serif;
                font-size: 13px;
            }
            body {
                width: 100%;
                background: #f9f9f9;
            }
            /* Site-wide Styles - END */

            /* Header Section - START */
            #header { width: 100%; background: #fff !important; border-bottom: 3px solid #ccc; color: #333; padding-top: 10px; margin-bottom: 20px; display: none; }
            .logo {	max-height: 80px; margin-top: 10px; margin-bottom: 10px; }
            .program-name { display: none; }

            .header-large { font-size: 24px; margin: 0; }
            .header-small { font-size: 18px; margin: 0; }

            #content { margin-top: 40px; }



            .clearfix:after {
                visibility: hidden;
                display: block;
                font-size: 0;
                content: " ";
                clear: both;
                height: 0;
            }
            .clearfix { display: inline-block; }
            /* start commented backslash hack \*/
            * html .clearfix { height: 1%; }
            .clearfix { display: block; }
            /* close commented backslash hack */

            /* Footer Section - START */
            .page-wrap {
                width: 100%;
                min-height: 100%;
                /* equal to footer height */
                margin-bottom: -20px;
            }

            .page-wrap:after {
                content: ".";
                display: block;
            }

            #footer {
                background: #fff;
                color: #333;
                height: 22px;
                border-top: 1px solid #ccc;
                text-align: center;
            }

            #footer {
                margin-bottom: 0px;
            }

            .step-button {
                outline: none;
                cursor: pointer;
                text-align: center;
                text-decoration: none;
                -webkit-border-radius: .5em;
                -moz-border-radius: .5em;
                border-radius: .5em;
                color: #333 !important;
                font-family: 'Open Sans', sans-serif;
                border: solid 1px #e3d9c4;
                border-radius: 0 !important;
                width: 200px;
                font-weight: 400 !important;
            {!program.Brand_Color_2__c}
            }

            /* Bigger than a phablet */
            @media only screen and (min-width: 1200px)  {
                .container { width: 1200px; }

                #header { display: block; width: 100%; height: 100px; background: #fff !important; border-bottom: 3px solid #ccc; color: #333; padding-top: 10px; }

                #branding { width: 100%; text-align: center; margin-bottom: 10px; }
                .logo {	max-height: 80px; float: left; margin-bottom: 10px; }
                .program-name { float: left; line-height: 90px; display: block; padding-left: 20px; }

                #content { margin-top: 0; }

            }
        </style>

        <apex:outputText value="{!program.Analytics_Head_Block__c}" id="headBlock" escape="false"/>
    </head>
    <body>
    <div class="page-wrap">
        <apex:outputText value="{!program.Analytics_Body_Block__c}" id="bodyBlock" escape="false"/>
        <div id="header" class="clearfix">
            <div class="container">
                <div class="row">
                    <div class="twelve columns clearfix">
                        <div class="nine columns clearfix">
                            <div id="branding">
                                <!--PSOBACKLOG-76-->
                                <img class="logo" src="{!URLFOR($Action.Attachment.Download, brandingLogo)}" alt="{!brandingUtility.Program_Name__c} Logo"/>
                                <h1 class="program-name header-large"><apex:outputText escape="false" value="{!brandingUtility.Program_Name__c}" /></h1>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <apex:form >
            <div id="content">
                <div class="container">
                    <apex:outputPanel id="creditDecision">
                        <!--BEGIN APPLICATION BEING PROCESSED SECTION-->
                        <apex:outputPanel rendered="{!IF(AND(program.Disable_Instant_Decisioning__c == false, decisioningCompleted == false), true, false)}">
                            <script>
                                $j('body').loadingModal({text: 'Your application is being processed. Please do not push the back button or leave this screen.', 'animation': 'wanderingCubes'});
                            </script>
                            <apex:actionPoller action="{!checkStatusOfApplication}" interval="5" enabled="{!decisioningCompleted == false}" rerender="creditDecision, fleetEnrollment, confirmNum"/>
                        </apex:outputPanel>
                        <!--END APPLICATION BEING PROCESSED SECTION-->

                        <!--BEGIN APPLICATION COMPLETED PROCESSED SECTION HEADER-->
                        <apex:outputPanel rendered="{!IF(AND(program.Disable_Instant_Decisioning__c == false, decisioningCompleted == true), true, false)}">
                            <div class="row">
                                <div class="twelve columns">
                                    <script>
                                        $j('body').loadingModal('destroy');
                                    </script>

                                    <!--BEGIN APPLICATION CONFIRMED MESSAGE SECTION-->
                                    <apex:outputPanel rendered="{!creditApproved == true}">
                                        <center>
                                            <h1 class="header-large" style="font-weight: bold;">{!$Label.BOCA_Confirmation_Congratulations}</h1><br/>
                                            <h1 class="header-small">{!$Label.BOCA_Approval_Confirmation} <br/>
                                                <apex:outputText value="{0, number, $###,###}">
                                                    <apex:param value="{!creditLineApproved}" />
                                                </apex:outputText>.</h1><br/>
                                        </center>
                                    </apex:outputPanel>
                                    <!--END APPLICATION CONFIRMED MESSAGE SECTION-->

                                    <!--BEGIN APPLICATION IN REVIEW MESSAGE SECTION-->
                                    <apex:outputPanel rendered="{!creditApproved == false}">
                                        <center>
                                            <h1 class="header-large" style="font-weight: bold;">{!$Label.BOCA_Confirmation_Thank_You}</h1><br/>
                                            <h1 class="header-small">{!$Label.BOCA_Review_Confirmation}</h1><br/>
                                        </center>
                                    </apex:outputPanel>
                                    <!--END APPLICATION IN REVIEW MESSAGE SECTION-->

                                </div>
                            </div>
                        </apex:outputPanel>
                        <!--END APPLICATION COMPLETED PROCESSED SECTION HEADER-->

                        <!--BEGIN DISABLED INSTANT DECISION SECTION HEADER-->
                        <apex:outputPanel rendered="{!program.Disable_Instant_Decisioning__c == true}">
                            <div class="row">
                                <div class="twelve columns">
                                    <center>
                                        <h1 class="header-large" style="font-weight: bold;">{!$Label.BOCA_Confirmation_Thank_You}</h1><br/>
                                        <h1 class="header-small">{!$Label.BOCA_Application_Submitted}</h1><br/>
                                    </center>
                                </div>
                            </div>
                        </apex:outputPanel>
                        <!--END DISABLED INSTANT DECISION SECTION HEADER-->

                    </apex:outputPanel>

                    <!--BEGIN CARD IMAGE AND SALUTATIONS SECTION-->
                    <center>
                        <!--PSOBACKLOG-76-->
                        <img style="width: 260px; pointer-events: none;" src="{!URLFOR($Action.Attachment.Download, brandingCard)}" alt="{!brandingUtility.Program_Name__c} Card Image"/>
                        <apex:outputPanel id="confirmNum">
                            <apex:outputPanel rendered="{!decisioningCompleted}">
                                <div style="margin: 30px auto; text-align: center; width: 320px;">
                                    <p>{!$Label.BOCA_Confirmation_Number} {!applicationNumber}</p>
                                </div>
                            </apex:outputPanel>
                        </apex:outputPanel>
                    </center>
                    <!--END CARD IMAGE AND SALUTATIONS SECTION-->

                    <!--BEGIN FLEEET ENROLLMENT SECTION-->
                    <apex:outputPanel id="fleetEnrollment">
                        <apex:outputPanel rendered="{!program.Publish_Fleet_Data_Capture_Form__c == true && disableFleetEnrollment == false && decisioningCompleted == true}">
                            <div class="row">
                                <div class="twelve columns">
                                    &nbsp;
                                </div>
                            </div>
                            <div class="row">
                                <div class="twelve columns">
                                    <center>
                                        <h1 class="header-large">
                                        {!$Label.BOCA_Fleet_Enrollment_Header}
                                    </h1><br/>
                                        <p style="max-width: 320px;">
                                        {!$Label.BOCA_Fleet_Enrollment}
                                    </p>
                                        <a href="/FleetEnrollment?appId={!applicationRequestNumber}&program={!program.Brand_Short_Name__c}&ver=BOCA">
                                            <button type="button" class="step-button ge-click-acctsetup">{!$Label.BOCA_Fleet_Enrollment_Button}</button>
                                        </a>
                                    </center>
                                </div>
                            </div>
                        </apex:outputPanel>
                    </apex:outputPanel>
                    <!--END FLEET ENROLLMENT SECTION-->

                </div>
            </div>
        </apex:form>
    </div>
    <div id="footer">
        <a href="//onlineservices.secure.force.com/creditapplication/creditApp_TermsAndConditions" title="terms of use" target="_blank"> {!$Label.BOCA_Terms_Of_Use_Link} <span class="glyphicon glyphicon-lock"></span></a>
    </div>
    </body>
    </html>
</apex:page>